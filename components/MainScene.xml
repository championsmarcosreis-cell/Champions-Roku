<?xml version="1.0" encoding="utf-8"?>
<component name="MainScene" extends="Scene">
  <interface>
    <field id="browseFocusVisual" type="string" alwaysNotify="true" />
    <field id="requestExit" type="boolean" alwaysNotify="true" />
    <field id="requestExitSeq" type="integer" alwaysNotify="true" />
  </interface>

  <!-- Bring shared helpers into this component's namespace -->
  <script type="text/brightscript" uri="pkg:/source/secrets.brs" />
  <script type="text/brightscript" uri="pkg:/source/config.brs" />
  <script type="text/brightscript" uri="pkg:/source/http.brs" />
  <script type="text/brightscript" uri="pkg:/source/gateway.brs" />
  <script type="text/brightscript" uri="pkg:/components/MainScene.brs" />

  <children>
    <Poster
      id="bg"
      translation="[0, 0]"
      width="1280"
      height="720"
      uri="pkg:/images/background.png"
    />

    <Poster
      id="logoPoster"
      translation="[560, 90]"
      width="160"
      height="160"
      uri="pkg:/images/logo.png"
    />
    <Label
      id="titleLabel"
      translation="[0, 270]"
      width="1280"
      height="60"
      font="font:LargeBoldSystemFont"
      horizAlign="center"
      color="0xD8B765"
      text="CHAMPIONS"
    />

    <LoginCard
      id="loginCard"
      translation="[380, 390]"
    />

    <HomeCard
      id="homeCard"
      translation="[380, 390]"
      visible="false"
    />

    <BrowseCard
      id="browseCard"
      translation="[90, 130]"
      visible="false"
    />

    <GuideGridMinimal
      id="liveCard"
      translation="[0, 0]"
      visible="false"
    />

    <Group
      id="seriesDetailGroup"
      visible="false"
    >
      <Rectangle
        id="seriesDetailScrim"
        translation="[0, 0]"
        width="1280"
        height="720"
        color="0xCC000000"
      />

      <Group
        id="seriesDetailViewport"
        translation="[0, 0]"
        clippingRect="[0, 58, 1280, 662]"
      >
        <children>
          <Group
            id="seriesDetailContent"
            translation="[0, 0]"
          >
            <children>
              <Poster
                id="seriesDetailHeaderBorder"
                translation="[40, 40]"
                width="1200"
                height="480"
                uri="pkg:/images/field_normal.png"
                visible="false"
              />

              <Poster
                id="seriesDetailHeaderBg"
                translation="[46, 46]"
                width="1188"
                height="468"
                uri="pkg:/images/card.png"
              />

              <Poster
                id="seriesDetailHero"
                translation="[46, 46]"
                width="1188"
                height="468"
                loadDisplayMode="zoomToFill"
                uri=""
              />

              <Poster
                id="seriesDetailPosterGlow"
                translation="[60, 70]"
                width="220"
                height="320"
                uri="pkg:/images/field_normal.png"
                visible="false"
              />

              <Poster
                id="seriesDetailPoster"
                translation="[70, 80]"
                width="200"
                height="300"
                loadDisplayMode="scaleToFit"
                uri=""
              />

              <Label
                id="seriesDetailTitle"
                translation="[70, 540]"
                width="1160"
                height="30"
                font="font:LargeSystemFont"
                color="0xFFFFFF"
                text=""
              />

              <Label
                id="seriesDetailType"
                translation="[70, 578]"
                width="360"
                height="16"
                font="font:SmallSystemFont"
                color="0xAAB4C2"
                text=""
              />

              <Group
                id="seriesDetailChips"
                translation="[70, 606]"
              >
                <Group id="seriesDetailChipYear">
                  <Poster id="seriesDetailChipYearBg" width="70" height="18" uri="pkg:/images/card.png" />
                  <Label
                    id="seriesDetailChipYearText"
                    translation="[0, 0]"
                    width="70"
                    height="18"
                    font="font:SmallSystemFont"
                    horizAlign="center"
                    color="0xE6EBF3"
                    text=""
                  />
                </Group>
                <Group id="seriesDetailChipAge">
                  <Poster id="seriesDetailChipAgeBg" width="70" height="18" uri="pkg:/images/card.png" />
                  <Label
                    id="seriesDetailChipAgeText"
                    translation="[0, 0]"
                    width="70"
                    height="18"
                    font="font:SmallSystemFont"
                    horizAlign="center"
                    color="0xE6EBF3"
                    text=""
                  />
                </Group>
                <Group id="seriesDetailChipRating">
                  <Poster id="seriesDetailChipRatingBg" width="70" height="18" uri="pkg:/images/card.png" />
                  <Label
                    id="seriesDetailChipRatingText"
                    translation="[0, 0]"
                    width="70"
                    height="18"
                    font="font:SmallSystemFont"
                    horizAlign="center"
                    color="0xE6EBF3"
                    text=""
                  />
                </Group>
                <Group id="seriesDetailChipStatus">
                  <Poster id="seriesDetailChipStatusBg" width="90" height="18" uri="pkg:/images/card.png" />
                  <Label
                    id="seriesDetailChipStatusText"
                    translation="[0, 0]"
                    width="90"
                    height="18"
                    font="font:SmallSystemFont"
                    horizAlign="center"
                    color="0xE6EBF3"
                    text=""
                  />
                </Group>
              </Group>

              <Label
                id="seriesDetailGenres"
                translation="[70, 634]"
                width="880"
                height="16"
                font="font:SmallSystemFont"
                color="0xC5D0E0"
                text=""
              />

              <Poster
                id="seriesDetailActionStatusFocus"
                translation="[66, 674]"
                width="208"
                height="44"
                uri="pkg:/images/field_focus.png"
                visible="false"
              />
              <Poster
                id="seriesDetailActionStatusBg"
                translation="[70, 678]"
                width="200"
                height="36"
                uri="pkg:/images/card.png"
              />
              <Label
                id="seriesDetailActionStatusText"
                translation="[70, 686]"
                width="200"
                height="20"
                font="font:SmallSystemFont"
                horizAlign="center"
                color="0xE6EBF3"
                text=""
              />

              <Poster
                id="seriesDetailActionTrailerFocus"
                translation="[286, 674]"
                width="208"
                height="44"
                uri="pkg:/images/field_focus.png"
                visible="false"
              />
              <Rectangle
                id="seriesDetailActionTrailerBg"
                translation="[290, 678]"
                width="200"
                height="36"
                color="0x00000000"
              />
              <Label
                id="seriesDetailActionTrailerText"
                translation="[290, 686]"
                width="200"
                height="20"
                font="font:SmallSystemFont"
                horizAlign="center"
                color="0xE6EBF3"
                text="Trailer"
              />

              <Label
                id="seriesDetailSynopsisTitle"
                translation="[60, 760]"
                width="240"
                height="18"
                font="font:SmallSystemFont"
                color="0xD8B765"
                text="Sinopse"
              />

              <Poster
                id="seriesDetailSynopsisBorder"
                translation="[40, 780]"
                width="1200"
                height="150"
                uri="pkg:/images/field_normal.png"
                visible="false"
              />

              <Poster
                id="seriesDetailSynopsisBg"
                translation="[46, 786]"
                width="1188"
                height="138"
                uri="pkg:/images/card.png"
              />

              <Label
                id="seriesDetailOverview"
                translation="[70, 800]"
                width="1120"
                height="110"
                font="font:SmallSystemFont"
                color="0xE6EBF3"
                wrap="true"
                numLines="5"
                text=""
              />

              <Label
                id="seriesDetailRuntime"
                translation="[60, 960]"
                width="640"
                height="18"
                font="font:SmallSystemFont"
                color="0xAAB4C2"
                text=""
              />

              <Label
                id="seriesDetailSeasonsTitle"
                translation="[60, 990]"
                width="240"
                height="18"
                font="font:SmallSystemFont"
                color="0xD8B765"
                text="Temporadas"
              />
              <MarkupGrid
                id="seriesDetailSeasonsList"
                translation="[60, 1010]"
                itemSize="[340, 190]"
                numColumns="3"
                numRows="1"
                drawFocusFeedback="false"
                itemComponentName="SeriesDetailRowItem"
              />

              <Label
                id="seriesDetailEpisodesTitle"
                translation="[60, 1230]"
                width="240"
                height="18"
                font="font:SmallSystemFont"
                color="0xD8B765"
                text="Episodios"
              />
              <MarkupGrid
                id="seriesDetailEpisodesList"
                translation="[60, 1250]"
                itemSize="[340, 190]"
                numColumns="3"
                numRows="1"
                drawFocusFeedback="false"
                itemComponentName="SeriesDetailRowItem"
              />

              <Label
                id="seriesDetailCastTitle"
                translation="[60, 1490]"
                width="320"
                height="18"
                font="font:SmallSystemFont"
                color="0xD8B765"
                text="Elenco e equipe"
              />
              <MarkupGrid
                id="seriesDetailCastList"
                translation="[60, 1510]"
                itemSize="[170, 200]"
                numColumns="6"
                numRows="1"
                drawFocusFeedback="false"
                itemComponentName="SeriesDetailCastItem"
              />

              <Label
                id="seriesDetailHint"
                translation="[60, 708]"
                width="1140"
                height="16"
                font="font:SmallSystemFont"
                color="0xAAB4C2"
                visible="false"
                text=""
              />
            </children>
          </Group>
        </children>
      </Group>
      <Rectangle
        id="seriesDetailTopBar"
        translation="[0, 0]"
        width="1280"
        height="104"
        color="0x0A1524"
      />
      <Rectangle
        id="seriesDetailBackPlate"
        translation="[46, 12]"
        width="196"
        height="36"
        color="0x223344"
      />
      <Rectangle
        id="seriesDetailBackFocus"
        translation="[44, 10]"
        width="200"
        height="40"
        color="0x332F3C4C"
        visible="false"
      />
      <!-- Invisible click target so mouse/touch can activate "back" reliably. -->
      <Button
        id="seriesDetailBackBtn"
        translation="[42, 8]"
        minWidth="220"
        maxWidth="220"
        text=""
        showFocusFootprint="false"
        opacity="0.0"
      />
      <Label
        id="seriesDetailBack"
        translation="[58, 18]"
        width="300"
        height="24"
        font="font:SmallSystemFont"
        color="0xFFFFFF"
        text="< Detalhe"
      />
    </Group>

    <ChampionsVideo
      id="player"
      translation="[0, 0]"
      width="1280"
      height="720"
      visible="false"
    />

    <!-- Legacy overlay (kept). Player settings are opened via * (OPTIONS). -->
    <Group
      id="playerOverlay"
      visible="false"
    >
      <Label
        id="osdSeekLabel"
        translation="[40, 532]"
        width="1070"
        height="28"
        font="font:SmallSystemFont"
        color="0xD8B765"
        visible="false"
        text=""
      />

      <Label
        id="osdTimeLabel"
        translation="[40, 560]"
        width="1070"
        height="28"
        font="font:SmallSystemFont"
        color="0xAAB4C2"
        text=""
      />

      <Rectangle
        id="osdBarBg"
        translation="[40, 595]"
        width="1070"
        height="10"
        color="0x223040"
      />
      <Rectangle
        id="osdBarFill"
        translation="[40, 595]"
        width="0"
        height="10"
        color="0xD8B765"
      />

      <Label
        id="playerOverlayHint"
        translation="[40, 650]"
        width="1200"
        height="30"
        font="font:SmallSystemFont"
        color="0xAAB4C2"
        text="OK: confirmar    UP/DOWN: Engrenagem/Barra (VOD)    *: Configuracoes (VOD)    BACK: Fechar"
      />

      <!-- Floating settings button (no boxed list). -->
      <Rectangle
        id="osdGearFocus"
        translation="[1138, 586]"
        width="108"
        height="108"
        color="0x33D8B765"
        visible="false"
      />
      <Poster
        id="playerOverlayCircle"
        translation="[1144, 592]"
        width="96"
        height="96"
        uri="pkg:/images/overlay_circle.png"
      />
      <Poster
        id="playerOverlayIcon"
        translation="[1160, 608]"
        width="64"
        height="64"
        uri="pkg:/images/ico_settings.png"
      />
    </Group>

    <!-- Modal player settings dialog (Audio/Legendas). -->
    <Group
      id="playerSettingsModal"
      visible="false"
    >
      <Poster
        id="playerSettingsBg"
        translation="[140, 80]"
        width="1000"
        height="560"
        uri="pkg:/images/card.png"
      />
      <Label
        id="playerSettingsTitle"
        translation="[180, 110]"
        width="920"
        height="34"
        font="font:MediumSystemFont"
        color="0xD8B765"
        text="Configuracoes do Player"
      />

      <Label
        id="playerSettingsAudioTitle"
        translation="[180, 160]"
        width="440"
        height="28"
        font="font:SmallSystemFont"
        color="0xAAB4C2"
        text="Audio"
      />
      <MarkupList
        id="playerSettingsAudioList"
        translation="[180, 195]"
        itemSize="[440, 60]"
        numRows="6"
        itemComponentName="PlayerSettingItem"
      />

      <Label
        id="playerSettingsSubTitle"
        translation="[660, 160]"
        width="440"
        height="28"
        font="font:SmallSystemFont"
        color="0xAAB4C2"
        text="Legendas"
      />
      <MarkupList
        id="playerSettingsSubList"
        translation="[660, 195]"
        itemSize="[440, 60]"
        numRows="6"
        itemComponentName="PlayerSettingItem"
      />

      <Label
        id="playerSettingsFooter"
        translation="[180, 590]"
        width="920"
        height="28"
        font="font:SmallSystemFont"
        color="0xAAB4C2"
        text="LEFT/RIGHT: trocar coluna    OK: selecionar    BACK: fechar"
      />
    </Group>

    <!-- Keep status + hint above the Video plane for debugging -->
    <Label
      id="statusLabel"
      translation="[0, 335]"
      width="1280"
      height="40"
      font="font:MediumSystemFont"
      horizAlign="center"
      visible="false"
      text=""
    />

    <Label
      id="hintLabel"
      translation="[0, 650]"
      width="1280"
      height="34"
      font="font:SmallSystemFont"
      horizAlign="center"
      color="0xAAB4C2"
      text="Pressione * para configurar APP_TOKEN"
    />
  </children>
</component>
